(this["webpackJsonpflone-react"]=this["webpackJsonpflone-react"]||[]).push([[158],{1141:function(e,t,a){"use strict";a.r(t);var n=a(202),l=a(196),r=a(197),o=a(198),i=a(199),c=a(0),m=a.n(c),s=a(605),u=a(606),d=a(620),p=a(677),h=a(643),E=a(200),g=a(59),f=a(618),b=a.n(f),v=a(682),_=a(1124),C=a(1125),y=a(1126),S=a(610),N=a.n(S),P=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).changeCity=function(e){r.setState({submitPlaceHandler:e}),g.a.post("/user/geo_detail",{place:null===e||void 0===e?void 0:e.name}).then((function(e){var t,a,n,l;r.setState({latitude:null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.geonames[0].latitude,longitude:null===e||void 0===e||null===(n=e.data)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.geonames[0].longitude})})).catch((function(e){console.log(e)}))},r.changeHandler=function(e){r.setState(Object(n.a)({},e.target.name,e.target.value))},r.submitHandler=function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("user_id")),a=localStorage.getItem("astroId"),n=new Date(r.state.dob).getFullYear(),l=new Date(r.state.dob).getMonth(),o=new Date(r.state.dob).getDay(),i=r.state.date_of_time.split(":"),c=parseInt(i[0]),m=parseInt(i[1]),s={userid:t,astroid:a,mobile:parseInt(r.state.mobile),firstname:r.state.firstname,p_firstname:r.state.p_firstname,p_lastname:r.state.p_lastname,dob:r.state.dob,p_dob:r.state.p_dob,birthPlace:r.state.birthPlace,p_birthPlace:r.state.p_birthPlace,date_of_time:r.state.date_of_time,p_date_of_time:r.state.p_date_of_time,gender:r.state.gender,marital_status:r.state.marital_status,occupation:r.state.occupation,topic_of_cnsrn:r.state.topic_of_cnsrn,type:"Chat"},u={userid:t,astroid:a,day:o,month:l,year:n,hour:c,min:m,lat:r.state.latitude,lon:r.state.longitude,tzone:5.5};g.a.post("/user/birth_details",u).then((function(e){})).catch((function(e){b()("Error!","You clicked the button!","error")})),""!==t&&null!==t?g.a.post("/user/add_chat_intake",s).then((function(e){})).catch((function(e){b()("Error!","Error Occurred!","error"),console.log(e)})):b()("Need to Login first")},r.state={userid:"",astroid:"",mobile:"",firstname:"",fullName:"",p_firstname:"",lastname:"",p_lastname:"",dob:"",p_dob:"",date_of_time:"",p_date_of_time:"",birthPlace:"",p_birthPlace:"",gender:"",marital_status:"",occupation:"",topic_of_cnsrn:"",data:[],state:[],city:[],country:[],selectedCountry:null,selectedState:null,selectedCity:null,showpartner:!1},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("user_id"));g.a.get("/user/viewoneuser/".concat(t)).then((function(t){e.setState({mobile:t.data.data.mobile}),e.setState({firstname:t.data.data.fullname})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t,a,n=this;return m.a.createElement(E.a,{headerTop:"visible"},m.a.createElement("section",{className:"pt-0 pb-0"},m.a.createElement("div",{className:"",style:{float:"left",width:"100%",backgroundColor:"#272727",position:"relative",backgroundAttachment:"fixed",backgroundSize:"cover",color:"#ffffff",padding:" 50px 0px 50px 0px",backgroundImage:"url(".concat(N.a,")"),backgroundPosition:"center center",backgroundRepeat:" no-repeat",textAlign:"center"}},m.a.createElement(s.a,null,m.a.createElement(u.a,null,m.a.createElement(d.a,{md:"12"},m.a.createElement("div",{className:"leftcont text-left"},m.a.createElement("h1",null,"Chat InTake Form"))))))),m.a.createElement("section",{className:""},m.a.createElement(s.a,null,m.a.createElement(u.a,null,m.a.createElement(d.a,{lg:"12"},m.a.createElement("div",{className:"wal-amt"},m.a.createElement("h3",null,"Chat InTake Form "),m.a.createElement("hr",null),m.a.createElement("div",{className:"d-flex"},m.a.createElement(u.a,null,m.a.createElement(d.a,{lg:"2",sm:"2",md:"2"},m.a.createElement("input",{onClick:function(e){n.setState({showpartner:e.target.checked})},width:14,type:"checkbox",id:"box",name:"box",value:"intakeform"})),m.a.createElement(d.a,null,m.a.createElement("span",{className:"mt-2"},"Want to Add Partner Details")))),m.a.createElement("form",{onSubmit:function(e){return n.submitHandler(e)}},m.a.createElement(u.a,null,m.a.createElement(d.a,{md:"4"},m.a.createElement("div",{class:"form-group mtb-10"},m.a.createElement("label",null,"Mobile Number*"),m.a.createElement("input",{type:"number",name:"mobile",value:this.state.mobile,onChange:this.changeHandler,required:!0,placeholder:"Enter Your Number"}))),m.a.createElement(d.a,{md:"4"},m.a.createElement("div",{class:"form-group mtb-10"},m.a.createElement("label",null,"FullName*"),m.a.createElement("input",{type:"text",name:"firstname",required:!0,placeholder:"Enter Your FirstName",value:this.state.firstname,onChange:this.changeHandler}))),m.a.createElement(d.a,{md:"4"},m.a.createElement("div",{class:"form-group mtb-10"},m.a.createElement("label",null,"Date of Birth*"),m.a.createElement("input",{type:"date",name:"dob",value:this.state.dob,onChange:this.changeHandler,required:!0,placeholder:"Enter Your Number"}))),m.a.createElement(d.a,{md:"4"},m.a.createElement("div",{class:"form-group mtb-10"},m.a.createElement("label",null,"Time of Birth*"),m.a.createElement("input",{type:"time",required:!0,name:"date_of_time",value:this.state.date_of_time,onChange:this.changeHandler,id:"timeinput"}))),m.a.createElement(d.a,{md:"4"},m.a.createElement("div",{class:"form-group mtb-10"},m.a.createElement("label",null,"Birth Place*"),m.a.createElement("input",{type:"text",name:"birthPlace",value:this.state.birthPlace,onChange:this.changeHandler,required:!0,placeholder:"Enter Your  Birth Place"}))),this.state.showpartner?m.a.createElement(m.a.Fragment,null,m.a.createElement(d.a,{md:"4"},m.a.createElement("div",{class:"form-group mtb-10"},m.a.createElement("label",null,"Partner First Name"),m.a.createElement("input",{type:"text",name:"p_firstname",placeholder:"Enter Your Patner FirstName",value:this.state.p_firstname,onChange:this.changeHandler}))),m.a.createElement(d.a,{md:"4"},m.a.createElement("div",{class:"form-group mtb-10"},m.a.createElement("label",null,"Partner Last Name"),m.a.createElement("input",{type:"text",name:"p_lastname",placeholder:"Enter Your Patner LastName",value:this.state.p_lastname,onChange:this.changeHandler}))),m.a.createElement(d.a,{md:"4"},m.a.createElement("div",{class:"form-group mtb-10"},m.a.createElement("label",null," Partner Date of Birth"),m.a.createElement("input",{type:"date",name:"p_dob",value:this.state.p_dob,onChange:this.changeHandler,placeholder:"Enter Your Number"}))),m.a.createElement(d.a,{md:"4"},m.a.createElement("div",{class:"form-group mtb-10"},m.a.createElement("label",null," Partner Time of Birth"),m.a.createElement("input",{type:"time",name:"p_date_of_time",value:this.state.p_date_of_time,onChange:this.changeHandler}))),m.a.createElement(d.a,{md:"4"},m.a.createElement("div",{class:"form-group mtb-10"},m.a.createElement("label",null," Partner Birth Place"),m.a.createElement("input",{type:"text",name:"p_birthPlace",value:this.state.p_birthPlace,onChange:this.changeHandler,placeholder:"Enter Your  Birth Place"})))):null,m.a.createElement(d.a,{lg:"4",md:"4",sm:"6",className:"mt-2"},m.a.createElement("label",null,"Country"),m.a.createElement(v.a,{options:_.a.getAllCountries(),getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.name},value:this.state.selectedCountry,onChange:function(e){n.setState({selectedCountry:e}),g.a.post("/user/time_zone",{country_code:null===e||void 0===e?void 0:e.timezones[0].zoneName}).then((function(e){var t,a;n.setState({timezone:null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.timezone})})).catch((function(e){console.log(e)}))}})),m.a.createElement(d.a,{lg:"4",md:"4",sm:"6",className:"mt-2"},m.a.createElement("label",null,"State"),m.a.createElement(v.a,{options:null===C.a||void 0===C.a?void 0:C.a.getStatesOfCountry(null===(e=this.state.selectedCountry)||void 0===e?void 0:e.isoCode),getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.name},value:this.state.selectedState,onChange:function(e){n.setState({selectedState:e})}})),m.a.createElement(d.a,{lg:"4",md:"4",sm:"6",className:"mt-2"},m.a.createElement("label",null,"City"),m.a.createElement(v.a,{options:y.a.getCitiesOfState(null===(t=this.state.selectedState)||void 0===t?void 0:t.countryCode,null===(a=this.state.selectedState)||void 0===a?void 0:a.isoCode),getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.name},value:this.state.submitPlaceHandler,onChange:function(e){n.changeCity(e)}})),m.a.createElement(d.a,{lg:"4",md:"4",sm:"6",className:"my-2 "},m.a.createElement("label",null,"Gender*"),m.a.createElement(p.a,{id:"exampleSelect",type:"select",name:"gender",required:!0,value:this.state.data.gender,onChange:this.changeHandler},m.a.createElement("option",null,"Select Gender"),m.a.createElement("option",null,"Male"),m.a.createElement("option",null,"Female"))),m.a.createElement(d.a,{lg:"4",md:"4",sm:"6",className:"my-2 "},m.a.createElement("label",null,"Marital Status*"),m.a.createElement(p.a,{type:"select",name:"marital_status",required:!0,value:this.state.marital_status,onChange:this.changeHandler},m.a.createElement("option",null,"Select Marital Status"),m.a.createElement("option",null,"Single"),m.a.createElement("option",null,"Married"),m.a.createElement("option",null,"Divorced"),m.a.createElement("option",null,"Separated"),m.a.createElement("option",null,"Widowed"))),m.a.createElement(d.a,{lg:"4",md:"4",sm:"6"},m.a.createElement("div",{class:"form-group mtb-10"},m.a.createElement("label",null,"Occupation*"),m.a.createElement(p.a,{type:"select",required:!0,name:"occupation",value:this.state.data.occupation,onChange:this.changeHandler},m.a.createElement("option",null,"Select Employed in"),m.a.createElement("option",null,"Private Sector"),m.a.createElement("option",null,"Govt Sector"),m.a.createElement("option",null,"Business/Self Employed"),m.a.createElement("option",null,"Civil Services"),m.a.createElement("option",null,"Defence"),m.a.createElement("option",null,"Not Working"),m.a.createElement("option",null,"Student")))),m.a.createElement(d.a,{lg:"4",md:"4",sm:"6"},m.a.createElement("div",{class:"form-group mtb-10"},m.a.createElement("label",null,"Topic of concern*"),m.a.createElement(p.a,{type:"select",name:"topic_of_cnsrn",required:!0,value:this.state.data.topic_of_cnsrn,onChange:this.changeHandler},m.a.createElement("option",null,"Select Topic"),m.a.createElement("option",null,"Career and Business"),m.a.createElement("option",null,"Marriage"),m.a.createElement("option",null,"Love and Relationship"),m.a.createElement("option",null,"Wealth and Property"),m.a.createElement("option",null,"Education"),m.a.createElement("option",null,"Legal Matters"),m.a.createElement("option",null,"Child Name Consultation"),m.a.createElement("option",null,"Business Name Consultation"),m.a.createElement("option",null,"Gem Stone Consultation"),m.a.createElement("option",null,"Commodity trading consultation"),m.a.createElement("option",null,"Match making"),m.a.createElement("option",null,"Birth Time Rectification"),m.a.createElement("option",null,"Name Correction Consultation"),m.a.createElement("option",null,"Travel Abroad Consulation"),m.a.createElement("option",null,"Remedy Consultation"),m.a.createElement("option",null,"Health Consultation"),m.a.createElement("option",null,"Others")))),m.a.createElement(d.a,{md:"12",className:"mt-3"},m.a.createElement(h.a,{className:"btn btn-warning"},"Start chat with ",localStorage.getItem("astroname")))))))))))}}]),a}(m.a.Component);t.default=P},610:function(e,t,a){e.exports=a.p+"static/media/astrologin-bg.f858568c.jpg"}}]);
//# sourceMappingURL=158.d8306434.chunk.js.map